@model List<HealthFit.Models.DTO.Order.OrderSearchResultDto>
@{
    ViewData["Title"] = "Trung tâm báo cáo";
}

<!-- Container chính chứa toàn bộ nội dung -->
<div class="container-fluid p-4">
    <!-- Phần tìm kiếm đơn hàng -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">Tìm kiếm đơn hàng</h5>
        </div>
        <div class="card-body">
            <!-- Form tìm kiếm với Bootstrap grid system -->
            <form id="searchForm" class="row g-3"
                  asp-area="Manager"
                  asp-controller="Transaction"
                  asp-action="SearchOrders"
                  method="get">
                <div class="col-md-4">
                    <input type="text"
                           name="username"            
                    id="searchUser"
                    class="form-control"
                    placeholder="Nhập tên người dùng để tìm kiếm" />
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-primary">Tìm kiếm</button>
                </div>
            </form>
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Kết quả đơn hàng</h5>
                </div>
                <div class="card-body">
                    @if (Model != null && Model.Any())
                    {
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Mã đơn</th>
                                    <th>Người đặt</th>
                                    <th>Ngày đặt</th>
                                    <th>Tổng tiền</th>
                                    <th>Trạng thái</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var order in Model)
                                {
                                    <tr>
                                        <td>@order.OrderId</td>
                                        <td>@order.UserName</td>
                                        <td>@order.OrderDate.ToString("dd/MM/yyyy")</td>
                                        <td>@(order.TotalAmount.ToString("#,##0")) đ</td>
                                        <td>@order.Status</td>
                                        <td>
                                            <a asp-area="Manager"
                                               asp-controller="Transaction"
                                               asp-action="OrderDetails"
                                               asp-route-orderId="@order.OrderId"
                                               class="btn btn-info btn-sm">
                                                <i class="fas fa-info-circle"></i> Chi tiết
                                            </a>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p class="text-muted">Không có đơn hàng nào để hiển thị.</p>
                    }
                </div>


        </div>
    </div>